{% extends "Base/base.html" %}
{% load staticfiles %}

<!-- Activo en el menu: -->
{% block trabajadores-li %} active {% endblock %}
{% block titulo %}Trabajadores{% endblock %}

{% block content %}
	<!-- Right Panel -->

	<div id="right-panel" class="right-panel">

		<div class="breadcrumbs">
			<div class="col-sm-4">
				<div class="page-header float-left">
					<div class="page-title">
						<h1>Trabajadores</h1>
					</div>
				</div>
			</div>
			<div class="col-sm-8">
				<div class="page-header float-right">
					<div class="page-title">
						<ol class="breadcrumb text-right">
							<!--<li><a href="#"></a></li>
							<li><a href="#">Table</a></li>-->
							<li class="active">Trabajadores</li>
						</ol>
					</div>
				</div>
			</div>
		</div>


		<div class="content mt-3">
            <div class="animated fadeIn">
                
                <div class="row">
					<div class="col-lg-3 col-md-6 col-sm-8">
                        <div class="card">
                            <div class="card-body">
                                <div class="stat-widget-one">
                                    <div class="stat-icon dib"><i class="ti-tablet text-primary border-primary"></i></div> <!--success/primary/warning/danger -->
                                    <div class="stat-content dib">
                                        <div class="stat-text">Trabajadores</div>
                                        <div class="stat-digit">{{trabajadores.count}}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


				<div class="row">
					<div class="card-body">
						<button type="button" class="btn btn-outline-primary" onclick="location.href='{% url "agregar_trabajador" %}'"><i class="fa fa-plus-circle"></i>&nbsp; Nuevo trabajador</button>
					</div>
				</div>


				<div class="row">
					<div class="col-md-12">
						<div class="card">
							<!--<div class="card-header">
								<strong class="card-title">Items</strong>
							</div>-->
							<div class="card-body">
					  <table id="bootstrap-data-table" class="table table-striped table-bordered">
						<thead>
						  <tr>
							{% for titulo in titulos %}
								<th scope="col">{{titulo}}</th>
							{% endfor %}
						  </tr>
						</thead>
						<tbody>
							{% for trabajador in trabajadores %}
								<tr>
									<th scope="row">{{trabajador.idTrabajador}}</th>
									<td>{{trabajador.nombre}}</td>
									<td>{% if trabajador.rut != None %}{{trabajador.rut}}{% else %} - {% endif %}</td>
									<td>{% if trabajador.telefono != None %}{{trabajador.telefono}}{% else %} - {% endif %}</td>
									<td>{% if trabajador.mail != None %}{{trabajador.mail}}{% else %} - {% endif %}</td>
								</tr>
							{% endfor %}
						</tbody>
					  </table>
							</div>
						</div>
					</div>
				</div>

			</div><!-- .animated -->
		</div><!-- .content -->


	</div><!-- /#right-panel -->

	<!-- Right Panel -->
	


{% endblock %}